# 부록 Part.2

## Jar
> Jar란? 여러 개의 클래스 파일을 하나의 파일로 묶기 위해서 사용한다.  
> 이 명령은 java 명령이 있는 디렉토리와 동일한 "jdk 설치 위치/bin"에 포함되어 있다.

### Jar 파일의 옵션들
- -c : jar 만들기
- -u : jar 수정하기
- -x : jar 풀기
- -t : jar 내의 파일 목록 확인하기 

**추가로 붙여서 사용할 수 있는 옵션들**
- -f : 파일명 지정
- -v : verbose 로그 출력
- -m : manifest 파일 지정 


### 자바를 컴파일할 때 알아 두면 좋은 옵션들
- -d 디렉터리 : 해당 옵션을 제공하면 디렉터리도 생성하고 관련된 패키지 디렉터리도 생성하여 클래스 파일을 만들어준다.
- -deprecation : deprecate 된 클래스의 대한 상세한 정보를 포함하여 컴파일 한다.
- -g : 디버깅과 관련된 정보를 포함한 클래스 파일을 생성한다. 


### 자바의 표준 옵션
- -client : "클라이언트" VM을 사용하는 옵션. Swing과 같이 클라이언트 UI를 처리할 떄 유용하다.
- -server: "서버" VM을 사용하는 옵션. 대부분의 시스템에서는 이 옵션이 적용된다.
- -cp 혹은 classpath : 클래스 패스를 지정할 떄 사용하며, 이 옵션의 공백 뒤에 경로를 연달아 지정하면 된다.
- -verbose : 클래스가 JVM에 로딩되는 정보를 출력한다.
- -verbosegc : gc가 발생하는 정보를 출력한다.
- -version : JVM의 버전을 출력하고 프로세스를 종료한다.
- -showversion : JVM의 버전을 출력하고 자바 프로세스를 계속 수행한다.
- -d32 : 가능한 경우 32비트 데이터 모델을 사용한다. 
- -d64 : 가능한 경우 64비트 데이터 모델을 사용한다. 
- -D키=값 : System.getProperties() 메소드를 호출했을 때 제공되는 자바의 속성에 해당 키와 값을 추가한다. 

### 비표준 옵션 중에 중요한 옵션들
- -Xms크기 : JVM의 시작 크기를 지정한다. 
- -Xmx크기 : JVM의 최대 크기를 지정한다.
- -Xss크기 : 쓰레드의 스택 크기를 지정한다. StackOverFlowError가 발생할 때 이 옵션을 지정하여 스택의 크기를 증가시킬 수 있다.  

## 자바의 ThreadLocal
> ThreadLocal에 담긴 값은 각 쓰레드마다 고유하게 사용할 수 있다.  
> 주의할 점은 ThreadLocal을 사용하고난 뒤에는 꼭 remove() 메소드를 호출하는 것이 안전하다.  
> 보통의 경우 문제가 적지만, 웹 애플리케이션 같은 경우 ThreadPool을 사용하여 Thread를 관리하기 때문에 Thread가 재사용 될 수 있다.  
> remove() 메소드를 호출하지 않으면 쓰레드가 재사용될 때 쓰레기 값이 담겨있을 수 있다. 이를 방지하지 위해 처리가 종료되면 remove() 메소드를 통해 쓰레기 값을 지워주는 것이 좋다. 


## 자바의 Volatile
> volatile 예약어는 변수 선언시에만 사용된다. volatile은 멀티코어 환경에서 서로 다른 CPU 캐시에서 같은 변수의 값을 다르게 바라보는 것을 방지한다.  
> volatile 예약어가 선언된 변수의 값은 CPU 캐시가 아닌 메인 메모리에 저장되게 된다. 성능 저하를 유발할 수 있기 때문에 필요한 경우가 아니면 사용하지 않는 것이 좋다.