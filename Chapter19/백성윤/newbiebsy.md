# 자바의 역사와 JVM

### JVM
> 작성한 자바 프로그램이 수행되는 프로세스를 의미한다.
> 자바가 OS에 독립적일 수 있는 이유이다.(JVM은 OS에 종속적이다.)   
> JAVA는 메모리 관리를 따로 하지 않는데, 이는 JVM이 메모리 관리를 해주기 때문이다.(정확히는 Garbage Collector)

### JIT (Just-In-Time) 컴파일러
> JIT은 프로그램 실행을 더 빠르게 하기 위해 만들어졌다.   
> 명칭은 컴파일러이지만, 실행시에 적용되는 기술이다.
> 바이트 코드를 컴퓨터가 알아먹을 수 있도록 기계어로 변환해야 하는데 이 작업을 JIT 컴파일러가 담당한다.      
> JIT 컴파일러는 필요한 코드의 정보를 캐시에 담아두었다가 필요한 경우 재사용한다.

### GC (Garbage Collection)
> 힙 영역의 불필요한 메모리를 지워주는 것을 말한다.   
> JVM의 힙 영역은 처음 설계될 때 2가지를 전제로 설계되었다.
> 1. 대부분의 객체는 금방 접근 불가능한 상태가 된다.
> 2. 오래된 객체에서 새로운 객체로의 참조는 아주 적게 존재한다.   
>
> 객체는 대부분 일회성이며, 메모리에 오래 남아있는 경우가 드물다는 것이다.
> 때문에 객체의 생존 기간에 따라 물리적인 힙 영역을 나누게 되었고 Young, Old 2가지 영역이 있다.(초기에는 Perm영역이 존재하였으나 8버전 부터 제거됨)

#### minor GC (Young GC)
>  Young 영역은 1개의 Eden 영역과 2개의 Survivor 영역으로 이루어져 있다.
> - Eden 영역 : 새로 생성된 객체가 할당되는 영역
> - Survivor 영역 : 최소 1번의 GC를 버티고 살아남은 객체가 존재하는 영역   
> 
> 객체가 생성되어 Eden 영역에 저장이 되고, Eden 영역이 꽉차면 살아있는 객체만 Survivor 영역으로 복사되고 사용되지 않는 객체의 메모리는 해제된다.   
> 위의 과정을 반복하다 Survivor 영역이 가득차면 Survivor 영역의 살아남은 객체를 다른 Survivor 영역으로 이동시킨다.(따라서 Survivor 영역 중 하나는 반드시 비어 있어야 한다.)   
> 이러한 과정을 거쳐 계속 살아남은 객체는 Old 영역으로 이동된다.

#### major GC (Full GC)
> Young 영역에서 오래 살아남은 객체는 Old 영역으로 이동된다.   
> 일반적으로 Young 영역은 Old 영역보다 작기 때문에 GC가 0.5초에서 1초 사이에 끝난다. 하지만 Old 영역은 Young 영역보다 크며, Young 영역을 참조할 수도 있다.
>  그렇기 때문에 major GC는 일반적으로 Minor GC보다 시간이 오래 걸리고, 10배 이상의 시간을 사용한다.