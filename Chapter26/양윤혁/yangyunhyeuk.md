

> 정리
>

## I/O

i/o는 다음의 경우에서 사용되곤 한다. 

- 파일에 읽거나 저장할 일이 있을 때
- 다른 서버나 디바이스로 보낼 일이 있을 때

- i : JVM을 기준으로 읽는 작업을 하는 경우
- o : JVM을 기준으로 파일로 쓰거나 외부로 전송하는 경우

---

- 초기 단계의 자바에서는 I/O를 처리하기 위해서 [java.io](http://java.io) 패키지에 있는 클래스만을 제공했다.
- 해당 패키지에는 바이트 기반의 데이터를 처리하기 위해서 여러 종류의 스트림이란 클래스를 제공한다. (InputStream, OutputStream)

---

- 바이트가 아닌 char 기반의 문자열로만 되어 있는 파일은 Reader, Writer라는 클래스로 처리한다.

---

- JDK 1.4부터는 보다 빠른 I/O를 처리하기 위해 NIO라는 것이 추가되었다.
- NIO는 스트림 기반이 아니라 버퍼와 채널 기반으로 데이터를 처리한다.

java 7부터는 NIO2라는 것이 추가되었는데, 파일을 보다 효율적으로 처리하기 위해서 만들어졌으며 기존의 여러 단점들을 보완하고 있다. 

- 여러 단점 중 일부
    - 이전의 자바에서 다루지 않은 파일 속성을 컨트롤하는 기능 추가
    - 심볼릭 링크 처리 기능 추가
    - 어떤 파일이 변경되었는지 쉽게 확인할 수 있는 WathchService 인터페이스 추가

### 그래서 JDK 7 버전 이상 사용 시 File 클래스보다는 java.nio.file 패키지 내 Files 클래스를 사용하는 것이 보다 이롭다.

---

- 자바 내 [java.io](http://java.io) 패키지에는 File이라는 클래스는 파일만 가리키는 것이 아니라 파일의 경로 정보도 포함한다.
- 허나, File 클래스는 정체가 불분명하고 심볼릭 링크와 같은 유닉스 계열의 파일에서 사용하는 몇몇 기능을 제대로 제공하지 못한다.
- 그래서 Java 7부터 NIO2가 등장하면서 java.nio.file 패키지 내 Files라는 클래스에서 File 클래스에 있는 메서드들을 대체하여 제공한다.

- File 클래스 : 객체를 생성하여 데이터를 처리한다.
- Files 클래스 : 모든 메서드가 static으로 선언되어, 객체 선언이 별도로 필요하지 않다.

---

### File 클래스는 파일 및 경로 정보를 통제하기 위한 클래스이다.

- 파일 객체의 존재 여부를 판단하며 생성한 파일 객체가 파일을 가리키는지 경로를 가리키는지, 읽거나, 쓰거나 실행할 수 있는지, 언제 수정되었는지의 기능을 제공한다.
- 해당 파일을 생성, 삭제하고 해당 파일의 이름을 바꾸고, 전체 경로를 확인하는 기능 또한 제공한다.
- 그리고 파일이 아닌 경로인 경우에는 해당 경로의 파일 목록을 가져오거나, 경로를 생성, 삭제하는 기능도 갖는다.

---

- File 클래스에는 seperator 라는 것이 static 변수로 존재하는데, 각 OS마다 디렉토리를 구분하는 기호의 선택적 모호함을 없애준다.

```jsx
String pathName = File.separator+"testCode"+File.separator+"text";
```

---

### Absolute

- 절대 경로를 의미한다.

### Canonical

- 절대적으로 유일하게 표현할 수 있는 경로를 의미한다.

![12112](https://user-images.githubusercontent.com/56379649/217296900-b7953514-9408-4ffe-8b91-134a30d844a4.png)

---

### Writer 클래스와 OutputStream 클래스 차이

- 선언된 메서드 대부분은 동일하나, Writer 클래스에는 append() 메서드가 존재한다는 점이 다르다.
- append() 메서드의 매개 변수로 넘어가는 CharSequence 인터페이스의 구현체는 String, StringBuffer, StringBuilder가 있어서 대부분의 문자열을 다 받아서 처리함을 의미한다.

---

- 자바에서 char 기반의 내용을 파일로 쓰기 위해서 FileWriter라는 클래스를 사용한다.
- Writer 클래스에 있는 write(), append() 사용 시 메서드를 호출할 때마다 파일에 쓰기에 비효율적이기에 이러한 단점을 보완하기 위해 BufferedWriter라는 클래스가 있다.
- BufferedWriter 클래스는 이름 그대로 버퍼라는 공간에 저장할 데이터를 보관해두었다가, 버퍼가 차게 되면 데이터를 저장하도록 도와주기에 매우 효율적이다.

- FileWriter 객체 생성 시 IOException이 발생할 수 있다.
    - 매개 변수로 넘어온 파일이름이 파일이 아닌 경로를 의미할 경우
    - 해당 파일이 존재하지는 않지만, 권한 등의 문제로 생성할 수 없는 경우
    - 파일이 존재하나, 여러 가지 이유로 파일을 열 수 없는 경우

- FileWriter 생성자에 true를 인자로 같이 넘겨준 뒤, 2번 이상 수행 시 파일 붙여쓰기,
false일 시 파일 덮어쓰기 기능이 수행된다.

---

### Scanner 클래스

- 텍스트 기반의 기본 자료형이나 문자열 데이터를 처리하기 위한 클래스이다.
- 정규 표현식을 사용하여 데이터를 잘라 처리할 수도 있다.
- 참고로 정규 표현식은 JDK 1.4부터 사용할 수 있도록 관련 API가 제공되었다.

### 추가로

- Java7에서 제공하는 Files 클래스 사용을 통해 한 줄로 파일을 읽을 수 있다.
